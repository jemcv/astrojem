---
import { getCollection } from 'astro:content';
import PostLayout from '../../layouts/PostLayout.astro';
import Navigations from '../../components/Navigations.astro';

export async function getStaticPaths() {
  const blogEntries = await getCollection('writes');
  return Promise.all(blogEntries.map(async entry => {
    const { remarkPluginFrontmatter } = await entry.render();
    return {
      params: { slug: entry.slug },
      props: { entry },
      data: {
        readingTime: remarkPluginFrontmatter.minutesRead as string
      }
    };
  }));
}


const { entry } = Astro.props;
const { Content, remarkPluginFrontmatter } = await entry.render();
console.log(remarkPluginFrontmatter.minutesRead)
---

<PostLayout>
  <h1 class="text-4xl font-bold mb-4">ᜐᜓᜎᜆᜒᜈ᜔</h1>
    <Navigations url="../"/>
    <div class="flex justify-between mt-2">
      <h1 class="font-bold">{entry.data.title}</h1>
      <p class="text-neutral-400">{entry.data.pubDate.toString().slice(0,10)}</p>
    </div>
    <div class="flex justify-between">
      <p class="text-neutral-400">{entry.data.description}</p>
      <p class="text-neutral-400">{remarkPluginFrontmatter.minutesRead}</p>
    </div>
    <div class="mt-2">
      <Content />
    </div>
</PostLayout>
